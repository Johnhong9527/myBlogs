<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用 FFmpeg 转换媒体文件的快速指南(转) | 看白鹿的博客</title>
    <meta name="description" content="只有敢于尝试,才能品味人生.">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.828f45ec.css" as="style"><link rel="preload" href="/assets/js/app.268f9f67.js" as="script"><link rel="preload" href="/assets/js/3.515b53d6.js" as="script"><link rel="preload" href="/assets/js/118.a1e7c870.js" as="script"><link rel="prefetch" href="/assets/js/10.dee33bc4.js"><link rel="prefetch" href="/assets/js/100.d2a60c39.js"><link rel="prefetch" href="/assets/js/101.74595f21.js"><link rel="prefetch" href="/assets/js/102.29b3d306.js"><link rel="prefetch" href="/assets/js/103.f271300d.js"><link rel="prefetch" href="/assets/js/104.43072e25.js"><link rel="prefetch" href="/assets/js/105.e14b9594.js"><link rel="prefetch" href="/assets/js/106.48e873e9.js"><link rel="prefetch" href="/assets/js/107.706275ab.js"><link rel="prefetch" href="/assets/js/108.e8e54758.js"><link rel="prefetch" href="/assets/js/109.b9ff54ab.js"><link rel="prefetch" href="/assets/js/11.5876b1fb.js"><link rel="prefetch" href="/assets/js/110.393bd110.js"><link rel="prefetch" href="/assets/js/111.ec6c71ae.js"><link rel="prefetch" href="/assets/js/112.607561e0.js"><link rel="prefetch" href="/assets/js/113.9eced018.js"><link rel="prefetch" href="/assets/js/114.5674d7c9.js"><link rel="prefetch" href="/assets/js/115.de57148c.js"><link rel="prefetch" href="/assets/js/116.6a5c1f56.js"><link rel="prefetch" href="/assets/js/117.f6a71ed6.js"><link rel="prefetch" href="/assets/js/119.b1f0371f.js"><link rel="prefetch" href="/assets/js/12.e8431088.js"><link rel="prefetch" href="/assets/js/120.8106c4ab.js"><link rel="prefetch" href="/assets/js/121.92de7c46.js"><link rel="prefetch" href="/assets/js/13.398dd7db.js"><link rel="prefetch" href="/assets/js/14.90bfbf87.js"><link rel="prefetch" href="/assets/js/15.f69596d7.js"><link rel="prefetch" href="/assets/js/16.3608be61.js"><link rel="prefetch" href="/assets/js/17.7820a766.js"><link rel="prefetch" href="/assets/js/18.8f99a19b.js"><link rel="prefetch" href="/assets/js/19.45176d0e.js"><link rel="prefetch" href="/assets/js/20.232982ac.js"><link rel="prefetch" href="/assets/js/21.1a51c65e.js"><link rel="prefetch" href="/assets/js/22.883de588.js"><link rel="prefetch" href="/assets/js/23.c9414590.js"><link rel="prefetch" href="/assets/js/24.6e67591d.js"><link rel="prefetch" href="/assets/js/25.6747357b.js"><link rel="prefetch" href="/assets/js/26.12c8e8e3.js"><link rel="prefetch" href="/assets/js/27.0783adaa.js"><link rel="prefetch" href="/assets/js/28.7a6ffcb0.js"><link rel="prefetch" href="/assets/js/29.08970e3a.js"><link rel="prefetch" href="/assets/js/30.abb98459.js"><link rel="prefetch" href="/assets/js/31.b8c17c43.js"><link rel="prefetch" href="/assets/js/32.5fe22297.js"><link rel="prefetch" href="/assets/js/33.b802736a.js"><link rel="prefetch" href="/assets/js/34.9893ce1f.js"><link rel="prefetch" href="/assets/js/35.c3a8a6fb.js"><link rel="prefetch" href="/assets/js/36.3bb4a7b9.js"><link rel="prefetch" href="/assets/js/37.f2ad4731.js"><link rel="prefetch" href="/assets/js/38.95bb1c88.js"><link rel="prefetch" href="/assets/js/39.2b5f646d.js"><link rel="prefetch" href="/assets/js/4.389f8161.js"><link rel="prefetch" href="/assets/js/40.42d10f93.js"><link rel="prefetch" href="/assets/js/41.5e607831.js"><link rel="prefetch" href="/assets/js/42.9a147000.js"><link rel="prefetch" href="/assets/js/43.3a493ecc.js"><link rel="prefetch" href="/assets/js/44.68dd983e.js"><link rel="prefetch" href="/assets/js/45.0eb19dd6.js"><link rel="prefetch" href="/assets/js/46.2bc4b680.js"><link rel="prefetch" href="/assets/js/47.3de0e22f.js"><link rel="prefetch" href="/assets/js/48.2aa9b621.js"><link rel="prefetch" href="/assets/js/49.4e0c7e81.js"><link rel="prefetch" href="/assets/js/5.d4651190.js"><link rel="prefetch" href="/assets/js/50.f9790d5d.js"><link rel="prefetch" href="/assets/js/51.d03e4d02.js"><link rel="prefetch" href="/assets/js/52.cd6e50d5.js"><link rel="prefetch" href="/assets/js/53.c56ed5e8.js"><link rel="prefetch" href="/assets/js/54.af31649a.js"><link rel="prefetch" href="/assets/js/55.e6c76277.js"><link rel="prefetch" href="/assets/js/56.59b2e0fa.js"><link rel="prefetch" href="/assets/js/57.e75a4f7d.js"><link rel="prefetch" href="/assets/js/58.49abcc13.js"><link rel="prefetch" href="/assets/js/59.62d47fda.js"><link rel="prefetch" href="/assets/js/6.4bfb03ad.js"><link rel="prefetch" href="/assets/js/60.d5bd9a2b.js"><link rel="prefetch" href="/assets/js/61.dc32bd44.js"><link rel="prefetch" href="/assets/js/62.552676dd.js"><link rel="prefetch" href="/assets/js/63.86db7a84.js"><link rel="prefetch" href="/assets/js/64.eb8d2554.js"><link rel="prefetch" href="/assets/js/65.405a53d2.js"><link rel="prefetch" href="/assets/js/66.2e2127ea.js"><link rel="prefetch" href="/assets/js/67.7958d7aa.js"><link rel="prefetch" href="/assets/js/68.5bb76a01.js"><link rel="prefetch" href="/assets/js/69.be77e031.js"><link rel="prefetch" href="/assets/js/7.5373c3ff.js"><link rel="prefetch" href="/assets/js/70.5f8c4d7e.js"><link rel="prefetch" href="/assets/js/71.6b83dc48.js"><link rel="prefetch" href="/assets/js/72.52e71197.js"><link rel="prefetch" href="/assets/js/73.ed29139b.js"><link rel="prefetch" href="/assets/js/74.2da95d6f.js"><link rel="prefetch" href="/assets/js/75.6bdfc674.js"><link rel="prefetch" href="/assets/js/76.539f7625.js"><link rel="prefetch" href="/assets/js/77.bd2b1d1c.js"><link rel="prefetch" href="/assets/js/78.574e43b8.js"><link rel="prefetch" href="/assets/js/79.3f2b6e03.js"><link rel="prefetch" href="/assets/js/8.c12591c5.js"><link rel="prefetch" href="/assets/js/80.343ef6a4.js"><link rel="prefetch" href="/assets/js/81.dbea413c.js"><link rel="prefetch" href="/assets/js/82.72df572c.js"><link rel="prefetch" href="/assets/js/83.8dfa08ec.js"><link rel="prefetch" href="/assets/js/84.faf124d2.js"><link rel="prefetch" href="/assets/js/85.4b9fd62d.js"><link rel="prefetch" href="/assets/js/86.f7796237.js"><link rel="prefetch" href="/assets/js/87.b4b84c5c.js"><link rel="prefetch" href="/assets/js/88.e4e04624.js"><link rel="prefetch" href="/assets/js/89.8e8af2bc.js"><link rel="prefetch" href="/assets/js/9.d366d0b0.js"><link rel="prefetch" href="/assets/js/90.4ef24970.js"><link rel="prefetch" href="/assets/js/91.642c380b.js"><link rel="prefetch" href="/assets/js/92.d31cd825.js"><link rel="prefetch" href="/assets/js/93.61ebd91b.js"><link rel="prefetch" href="/assets/js/94.ce97a94d.js"><link rel="prefetch" href="/assets/js/95.2315c696.js"><link rel="prefetch" href="/assets/js/96.ee1be386.js"><link rel="prefetch" href="/assets/js/97.a4d99f7c.js"><link rel="prefetch" href="/assets/js/98.3470f3b8.js"><link rel="prefetch" href="/assets/js/99.bf865b2a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.431cfe91.js">
    <link rel="stylesheet" href="/assets/css/0.styles.828f45ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">看白鹿的博客</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/FLUTTER/" class="nav-link">flutter</a></li><li class="dropdown-item"><!----> <a href="/GIT/" class="nav-link">GIT</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/REACT/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/VUE/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后台" class="dropdown-title"><span class="title">后台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NODE/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/UBUNTU/" class="nav-link">ubuntu</a></li><li class="dropdown-item"><!----> <a href="/ffmpeg/" class="nav-link router-link-active">ffmpeg</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/IDE/" class="nav-link">IDE</a></li><li class="dropdown-item"><!----> <a href="/About/WHY.html" class="nav-link">待了解</a></li><li class="dropdown-item"><!----> <a href="/INTERVIEW/" class="nav-link">面试</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Johnhong9527" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/FLUTTER/" class="nav-link">flutter</a></li><li class="dropdown-item"><!----> <a href="/GIT/" class="nav-link">GIT</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/REACT/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/VUE/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后台" class="dropdown-title"><span class="title">后台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NODE/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/UBUNTU/" class="nav-link">ubuntu</a></li><li class="dropdown-item"><!----> <a href="/ffmpeg/" class="nav-link router-link-active">ffmpeg</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/IDE/" class="nav-link">IDE</a></li><li class="dropdown-item"><!----> <a href="/About/WHY.html" class="nav-link">待了解</a></li><li class="dropdown-item"><!----> <a href="/INTERVIEW/" class="nav-link">面试</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Johnhong9527" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ffmpeg/" class="sidebar-link">ffmpeg 目录</a></li><li><a href="/ffmpeg/2020_01_26.html" class="active sidebar-link">使用 FFmpeg 转换媒体文件的快速指南(转)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#媒体文件" class="sidebar-link">媒体文件</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#基本转换" class="sidebar-link">基本转换</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#选择编解码器" class="sidebar-link">选择编解码器</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#更改单个流" class="sidebar-link">更改单个流</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#更换容器" class="sidebar-link">更换容器</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#影响质量" class="sidebar-link">影响质量</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#修改流" class="sidebar-link">修改流</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#提取音频" class="sidebar-link">提取音频</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#用它制作-gif" class="sidebar-link">用它制作 GIF</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#其他工具" class="sidebar-link">其他工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#从-youtube-抓取视频" class="sidebar-link">从 YouTube 抓取视频</a></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#获取有关媒体的信息" class="sidebar-link">获取有关媒体的信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/ffmpeg/2020_01_26.html#更多" class="sidebar-link">更多</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="使用-ffmpeg-转换媒体文件的快速指南-转"><a href="#使用-ffmpeg-转换媒体文件的快速指南-转" class="header-anchor">#</a> 使用 FFmpeg 转换媒体文件的快速指南(转)</h1> <p><a href="https://opensource.com/article/17/6/ffmpeg-convert-media-file-formats" target="_blank" rel="noopener noreferrer">原文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>FFmpeg 是用于快速更改 AV 文件的格式或质量，提取音频，创建 GIF 等的出色工具。</p></blockquote> <p><img src="/images/ffmpeg/2020-01-26/arrows_translation_lead.jpg" alt="images/ffmpeg/2020-01-26"></p> <p><em>图片学分：Jen Wike Huger 摄</em></p> <p>有许多开源工具可用于编辑，调整和将多媒体准确地转换为您所需的内容。诸如 <a href="https://www.audacityteam.org/" target="_blank" rel="noopener noreferrer">Audacity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或 <a href="https://handbrake.fr/" target="_blank" rel="noopener noreferrer">Handbrake<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 之类的工具非常出色，但是有时您只想快速将文件从一种格式更改为另一种格式。输入 FFmpeg。</p> <p>FFmpeg 是处理多媒体文件的不同项目的集合。在许多其他与媒体相关的项目中，它经常在幕后使用。尽管它的名字，它与<a href="https://en.wikipedia.org/wiki/Moving_Picture_Experts_Group" target="_blank" rel="noopener noreferrer">运动图像专家组<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>或它创建的各种多媒体格式无关。</p> <p>在本文中，我将通过命令行工具 ffmpeg 使用 FFmpeg ，这只是 FFmpeg 项目的一个很小的部分。它在许多不同的操作系统上都可用，并且默认情况下包含在某些操作系统中。可以从 <a href="https://ffmpeg.org/" target="_blank" rel="noopener noreferrer">FFmpeg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 网站或大多数软件包管理器中下载。</p> <p>FFmpeg 是一个功能强大的工具，几乎可以完成多媒体文件中您可以想象的任何事情。在本文中，我们有兴趣使用它来转换文件，因此我们不会深入研究其整个功能集。在考虑使用 FFmpeg 之前，首先我们需要快速了解媒体文件的确切含义。</p> <h2 id="媒体文件"><a href="#媒体文件" class="header-anchor">#</a> 媒体文件</h2> <p>在非常高的层次上，媒体文件被分解为一个容器及其流。这些流包括实际的 AV 组件，例如电影的音频或视频，并使用特定的媒体编码或<a href="https://en.wikipedia.org/wiki/Codec" target="_blank" rel="noopener noreferrer">编解码器进行编码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。每个编解码器都有自己的属性，优点和缺点。例如，<a href="https://en.wikipedia.org/wiki/FLAC" target="_blank" rel="noopener noreferrer">FLAC 编解码器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>适用于高质量无损音频，而 <a href="https://en.wikipedia.org/wiki/Vorbis" target="_blank" rel="noopener noreferrer">Vorbis<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 旨在与 MP3 竞争文件大小，同时提供更好的音频质量。这意味着 FLAC 格式的文件将比 Vorbis 音频流大得多，但听起来应该更好。两者在本质上都不比另一个更好，因为每个人都在尝试做不同的事情。</p> <p>容器是流的包装。它提供了媒体播放器和工具可以交互的单个界面。一些容器非常先进，并允许任何类型的流，包括单个容器内的多个视频和音频流。容器中的流不必只是音频或视频。不同的容器将允许不同的流，例如字幕，章节信息或其他元数据。这完全取决于容器设置为允许的范围。</p> <p>这是媒体文件的抽象表示，并且跳过了容器之间的许多差异。许多要求某些流和元数据，或者对所允许的编解码器或内容施加限制。这种解释足以使您理解本文。要了解更多信息，请单击上面的链接。</p> <p>请注意，视频和音频编码可能需要很长时间才能运行。使用 FFmpeg 时，您应该准备好适应一段时间。</p> <h2 id="基本转换"><a href="#基本转换" class="header-anchor">#</a> 基本转换</h2> <p>在转换音频和视频时，令大多数人震惊的是选择正确的格式和容器。幸运的是，FFmpeg 的默认设置非常聪明。通常，它会自动选择正确的编解码器和容器，而无需进行任何复杂的配置。</p> <p>例如，假设您有一个 MP3 文件，并希望将其转换为 OGG 文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mp3 output.ogg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令获取一个名为<code>input.mp3</code>的 MP3 文件，并将其转换为一个名为 <code>output.ogg</code> 的 OGG 文件。从 FFmpeg 的角度来看，这意味着将 MP3 音频流转换为 Vorbis 音频流并将其包装到 OGG 容器中。您不必指定流或容器类型，因为 FFmpeg 会为您解决。</p> <p>这也适用于视频：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mp4 output.webm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于 <a href="https://www.webmproject.org/" target="_blank" rel="noopener noreferrer">WebM<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是一种定义明确的格式，因此 FFmpeg 会自动知道它可以支持的视频和音频，并将流转换为有效的 <a href="https://en.wikipedia.org/wiki/WebM" target="_blank" rel="noopener noreferrer">WebM<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 文件。</p> <p>根据您选择的容器，此方法并非总是有效。例如，诸如<a href="https://matroska.org/" target="_blank" rel="noopener noreferrer">Matroska<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>之类的容器旨在处理您关心放入其中的几乎所有流，无论它们是否有效。这意味着命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mp4 output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可能会导致文件具有与<code>input.mp4</code>相同的编解码器，可能不是您想要的文件。</p> <h2 id="选择编解码器"><a href="#选择编解码器" class="header-anchor">#</a> 选择编解码器</h2> <p>因此，当您想使用 Matroska 这样的容器（可以处理几乎所有流）但又影响输出中的编解码器时，该怎么办？FFmpeg 进行救援！您可以使用-c 标志来选择所需的编解码器。</p> <p>此标志使您可以设置要用于每个流的不同编解码器。例如，要将音频流设置为 Vorbis，可以使用以下命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mp3 -c:a libvorbis output.ogg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以更改视频和音频流的方法相同：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mp4 -c:v vp9 -c:a libvorbis output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将使 Matroska 容器具有<a href="https://en.wikipedia.org/wiki/VP9" target="_blank" rel="noopener noreferrer">VP9<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>视频流和 Vorbis 音频流，与我们之前制作的 WebM 基本相同。</p> <p><code>ffmpeg -codecs</code>命令将打印 FFmpeg 知道的每个编解码器。该命令的输出将根据您安装的 FFmpeg 的版本而变化。</p> <h2 id="更改单个流"><a href="#更改单个流" class="header-anchor">#</a> 更改单个流</h2> <p>您所拥有的文件经常会以不正确的格式（仅单个流）部分地正确存储。重新编码正确的流可能非常耗时。FFmpeg 可以帮助解决这种情况：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.webm -c:v copy -c:a flac output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将视频流从<code>input.webm</code>复制到<code>output.mkv</code>，并将 Vorbis 音频流编码为 FLAC。该<code>-c</code>标志是真的很强大。</p> <h2 id="更换容器"><a href="#更换容器" class="header-anchor">#</a> 更换容器</h2> <p>前面的示例可以应用于音频和视频流，从而使您可以从一种容器格式转换为另一种容器格式，而无需执行任何其他流编码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.webm -c:av copy output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="影响质量"><a href="#影响质量" class="header-anchor">#</a> 影响质量</h2> <p>现在我们有了编解码器的句柄，下一个问题是：我们如何设置每个流的质量？</p> <p>最简单的方法是更改 ​​ 比特率，这可能会或可能不会导致不同的质量。人类的视听能力并不像我们想的那么清晰。有时更改比特率会对主观质量产生巨大影响。其他时候，它可能什么也没做，只是更改文件大小。有时，很难尝试一下就很难知道会发生什么。</p> <p>要设置每个流的比特率，请使用 <code>-b</code> 标志，该标志的工作方式与 <code>-c</code> 标志类似，只是您设置了比特率而不是编解码器选项。</p> <p>例如，要更改视频的比特率，可以这样使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.webm -c:a copy -c:v vp9 -b:v 1M output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将从<code>input.webm</code>复制音频（<code>-c:a copy</code>）并将视频转换为比特率为 1M/s（<code>-b:v</code>）的 VP9 编解码器（<code>-c:v vp9</code>），所有捆绑在一个 Matroska 容器（<code>output.mkv</code>）。</p> <p>影响质量的另一种方法是使用-r 选项调整视频的帧频：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.webm -c:a copy -c:v vp9 -r 30 output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将创建一个新的 Matroska，并复制音频流，并将视频流的帧速率强制为每秒 30 帧，而不是使用输入的帧速率（<code>-r 30</code>）。</p> <p>您还可以使用 FFmpeg 调整视频的尺寸。最简单的方法是使用预定的视频大小：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mkv -c:a copy -s hd720 output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这会将视频在输出中修改为 1280x720，但是您可以根据需要手动设置宽度和高度：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mkv -c:a copy -s 1280x720 output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将产生与先前命令完全相同的输出。如果要在 FFmpeg 中设置自定义尺寸，请记住，width 参数（<code>1280</code>）位于高度（<code>720</code>）之前。</p> <p>调整帧速率和比特率是影响媒体质量的两种粗糙但有效的技术。如果这些值的质量已经很低，则将它们设置得很高将无法提高其质量。</p> <p>更改这些设置对于快速减少高质量流以减小文件大小最有效。调整视频的大小并不能提高质量，但是可以使其更适合平板电脑而不是电视。将 640x480 视频的大小更改为 4K 不会改善它。</p> <p>更改文件的质量是非常主观的事情，这意味着没有一种可以每次使用的方法。最好的方法是进行一些更改，并测试它对您来说看起来还是听起来更好。</p> <h2 id="修改流"><a href="#修改流" class="header-anchor">#</a> 修改流</h2> <p>通常，您的文件几乎是完美的，只需要修剪掉几部分即可。使用显示您所更改内容的工具可以更轻松地完成此操作，但是如果您确切知道要修剪的位置，则在 FFmpeg 中非常容易做到：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mkv -c:av copy -ss 00:01:00 -t 10 output.mkv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将复制视频和音频流（<code>-c:av copy</code>），但会修剪视频。的-t 选项集切割持续时间为 10 秒，<code>-ss</code>选项设置视频的开始点在一分钟（修边，在这种情况下<code>00:01:00</code>）。您不仅可以精确到几小时，几分钟和几秒钟，还可以精确到毫秒（如果需要）。</p> <h2 id="提取音频"><a href="#提取音频" class="header-anchor">#</a> 提取音频</h2> <p>有时您并不真正在乎视频，而只是想要音频。幸运的是，这在带有<code>-vn</code>标志的 FFmpeg 中非常简单：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mkv -vn audio_only.ogg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令仅从输入中提取音频，将其编码为 Vorbis，然后将其保存到 <code>audio_only.ogg</code> 中。现在您有了隔离的音频流。您还可以以相同方式使用 <code>-an</code> 和 <code>-sn</code> 标志来去除音频和字幕流。</p> <h2 id="用它制作-gif"><a href="#用它制作-gif" class="header-anchor">#</a> 用它制作 GIF</h2> <p>最近，动画 GIF（因为我不是怪物所以用硬 g 表示）卷土重来。我个人认为 GIF 是您可以选择的最差的视频格式。它具有可怕的压缩质量和大小；在颜色，帧速率和容器元数据方面有非常严格的限制；并且不支持音频。尽管如此，它还是很受欢迎。那么，如何将视频剪辑制作成动画 GIF？</p> <p>如果您想制作不带音频的视频，则使用 <code>-an</code> 标志（类似于我们上面的操作）比创建动画 GIF 更好，但是有很多地方支持不支持其他视频格式的 GIF 。对于所有这些：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i input.mkv output.gif
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令创建与输入文件相同尺寸的 GIF。这通常是个坏主意，因为 GIF 相对于其他视频格式的压缩效果不佳（以我的经验，GIF 的大小约为源视频的八倍）。使用-s 选项将 GIF 调整为较小的尺寸可能会有所帮助，尤其是在输入源非常大的情况下，例如高清视频。</p> <h2 id="其他工具"><a href="#其他工具" class="header-anchor">#</a> 其他工具</h2> <p>尽管 FFmpeg 是大多数 AV 任务的必备工具，但它并非对所有事物而言都是完美的。有一些工具与 FFmpeg 结合使用，可以使一切变得简单一些。</p> <h3 id="从-youtube-抓取视频"><a href="#从-youtube-抓取视频" class="header-anchor">#</a> 从 YouTube 抓取视频</h3> <p>将某些内容上传到 YouTube，丢失原始源视频并仅保留 YouTube 版本非常容易。检索 YouTube 视频副本的最简单方法是什么？</p> <p><code>Youtube-dl</code>是一个漂亮的小工具，可用于从 YouTube 和其他一些视频流服务中获取视频。使用起来超级简单：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>youtube-dl https://www.youtube.com/watch?v=2m5nW9CQLJ0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令通过指定的 URL 下载视频并将其保存在本地。</p> <p>Youtube-dl 有几个选项可以控制下载视频的质量和格式，但是我发现使用上面的命令更容易。它将最高质量的音频和视频下载到一个文件中，然后使用 FFmpeg 将它们转换为所需的格式。</p> <h3 id="获取有关媒体的信息"><a href="#获取有关媒体的信息" class="header-anchor">#</a> 获取有关媒体的信息</h3> <p>有时，您只需要知道媒体容器中的内容即可。尽管有几种工具可以做到这一点，但我首选的是 <a href="https://mediaarea.net/en/MediaInfo" target="_blank" rel="noopener noreferrer">MediaInfo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。MediaInfo 显示媒体容器内每个不同流的所有信息，以及输入文件的元数据。这为您提供了您可能想知道的所有信息，并且可能提供了许多您不想要的东西。</p> <p>运行命令<code>mediainfo inputFile.mkv</code>以人类可读的形式显示有关输入文件的信息列表。</p> <h2 id="更多"><a href="#更多" class="header-anchor">#</a> 更多</h2> <p>这仅仅是 FFmpeg 可以做的事情的表面。幸运的是，FFmpeg 的<a href="http://ffmpeg.org/documentation.html" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和该项目的其他工具非常好，值得一看。它会教您有关这只狗可以做的许多不同技巧的所有事情。</p> <p>如果您想使用带有用于转换多媒体的图形界面的工具，那么 <a href="https://handbrake.fr/" target="_blank" rel="noopener noreferrer">Handbrake<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是在 Linux，Mac OS X 和 Windows 上非常出色的工具。手刹在引擎盖下使用 FFmpeg（以及其他工具）。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/26/2020, 12:43:09 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ffmpeg/" class="prev router-link-active">ffmpeg 目录</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.268f9f67.js" defer></script><script src="/assets/js/3.515b53d6.js" defer></script><script src="/assets/js/118.a1e7c870.js" defer></script>
  </body>
</html>
